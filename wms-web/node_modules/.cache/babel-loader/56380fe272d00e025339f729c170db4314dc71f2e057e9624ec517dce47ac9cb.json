{"ast":null,"code":"export default {\n  name: \"RecordManage\",\n  data() {\n    return {\n      storageData: [],\n      goodstypeData: [],\n      tableData: [],\n      pageSize: 10,\n      pageNum: 1,\n      total: 0,\n      name: '',\n      storage: '',\n      goodstype: '',\n      centerDialogVisible: false,\n      form: {\n        id: '',\n        name: '',\n        storage: '',\n        goodstype: '',\n        count: '',\n        remark: ''\n      }\n    };\n  },\n  methods: {\n    formatStorage(row) {\n      let temp = this.storageData.find(item => {\n        return item.id == row.storage;\n      });\n      return temp && temp.name;\n    },\n    formatGoodstype(row) {\n      let temp = this.goodstypeData.find(item => {\n        return item.id == row.goodstype;\n      });\n      return temp && temp.name;\n    },\n    resetForm() {\n      this.$refs.form.resetFields();\n    },\n    handleSizeChange(val) {\n      console.log(`每页 ${val} 条`);\n      this.pageNum = 1;\n      this.pageSize = val;\n      this.loadPost();\n    },\n    handleCurrentChange(val) {\n      console.log(`当前页: ${val}`);\n      this.pageNum = val;\n      this.loadPost();\n    },\n    resetParam() {\n      this.name = '';\n      this.storage = '';\n      this.goodstype = '';\n    },\n    loadPost() {\n      this.$axios.post(this.$httpUrl + '/record/listPage', {\n        pageSize: this.pageSize,\n        pageNum: this.pageNum,\n        param: {\n          name: this.name,\n          goodstype: this.goodstype + '',\n          storage: this.storage + ''\n        }\n      }).then(res => res.data).then(res => {\n        console.log(res);\n        if (res.code == 200) {\n          this.tableData = res.data;\n          this.total = res.total;\n        } else {\n          alert('获取数据失败');\n        }\n      });\n    }\n  },\n  beforeMount() {\n    this.loadPost();\n  }\n};","map":{"version":3,"names":["name","data","storageData","goodstypeData","tableData","pageSize","pageNum","total","storage","goodstype","centerDialogVisible","form","id","count","remark","methods","formatStorage","row","temp","find","item","formatGoodstype","resetForm","$refs","resetFields","handleSizeChange","val","console","log","loadPost","handleCurrentChange","resetParam","$axios","post","$httpUrl","param","then","res","code","alert","beforeMount"],"sources":["src/components/record/RecordManage.vue"],"sourcesContent":["<template>\n    <div>\n        <div style=\"margin: 5px\">\n            <el-input v-model=\"name\" placeholder=\"请输入物品名\" suffix-icon=\"el-icon-search\" style=\"width: 180px;margin-left: -4px\"\n                      @keyup.enter.native=\"loadPost\"></el-input>\n            <el-select v-model=\"storage\" placeholder=\"请选择仓库\" style=\"margin-left: 5px;\">\n                <el-option\n                        v-for=\"item in storageData\"\n                        :key=\"item.id\"\n                        :label=\"item.name\"\n                        :value=\"item.id\">\n                </el-option>\n            </el-select>\n            <el-select v-model=\"goodstype\" placeholder=\"请选择分类\" style=\"margin-left: 5px;\">\n                <el-option\n                        v-for=\"item in goodstypeData\"\n                        :key=\"item.id\"\n                        :label=\"item.name\"\n                        :value=\"item.id\">\n                </el-option>\n            </el-select>\n\n            <el-button type=\"primary\" style=\"margin-left: 18px;margin-right: 6px\" @click=\"loadPost\">查询</el-button>\n            <el-button type=\"success\" @click=\"resetParam\">重置</el-button>\n        </div>\n        <el-table :data=\"tableData\"\n                :header-cell-style=\"{ background: '#f2f5fc', color: '#555555' }\"\n                border>\n            <el-table-column prop=\"id\" label=\"ID\" width=\"60\">\n            </el-table-column>\n            <el-table-column prop=\"goodsname\" label=\"物品名\" width=\"100\">\n            </el-table-column>\n            <el-table-column prop=\"storage\" label=\"仓库\" width=\"100\">\n            </el-table-column>\n            <el-table-column prop=\"goodstype\" label=\"分类\" width=\"100\">\n            </el-table-column>\n            <el-table-column prop=\"adminId\" label=\"操作人\" width=\"100\">\n            </el-table-column>\n            <el-table-column prop=\"userid\" label=\"申请人\" width=\"100\">\n            </el-table-column>\n            <el-table-column prop=\"count\" label=\"数量\" width=\"100\">\n            </el-table-column>\n            <el-table-column prop=\"createtime\" label=\"操作时间\" width=\"180\">\n            </el-table-column>\n            <el-table-column prop=\"remark\" label=\"备注\" width=\"180\">\n            </el-table-column>\n        </el-table>\n\n        <el-pagination\n            @size-change=\"handleSizeChange\"\n            @current-change=\"handleCurrentChange\"\n            :current-page=\"pageNum\"\n            :page-sizes=\"[5, 10, 20,30]\"\n            :page-size=\"pageSize\"\n            layout=\"total, sizes, prev, pager, next, jumper\"\n            :total=\"total\">\n        </el-pagination>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"RecordManage\",\n        data() {\n\n            return {\n                storageData:[],\n                goodstypeData:[],\n                tableData: [],\n                pageSize:10,\n                pageNum:1,\n                total:0,\n                name:'',\n                storage:'',\n                goodstype:'',\n                centerDialogVisible: false,\n                form:{\n                    id:'',\n                    name:'',\n                    storage:'',\n                    goodstype:'',\n                    count:'',\n                    remark:''\n                },\n            }\n        },\n\n        methods:{\n            formatStorage(row){\n                let temp =  this.storageData.find(item=>{\n                    return item.id == row.storage\n                })\n\n                return temp && temp.name\n            },\n            formatGoodstype(row){\n                let temp =  this.goodstypeData.find(item=>{\n                    return item.id == row.goodstype\n                })\n\n                return temp && temp.name\n            },\n            resetForm() {\n                this.$refs.form.resetFields();\n            },\n            handleSizeChange(val) {\n                console.log(`每页 ${val} 条`);\n                this.pageNum=1\n                this.pageSize=val\n                this.loadPost()\n            },\n            handleCurrentChange(val) {\n                console.log(`当前页: ${val}`);\n                this.pageNum=val\n                this.loadPost()\n            },\n            resetParam(){\n                this.name=''\n                this.storage=''\n                this.goodstype=''\n            },\n            loadPost(){\n                this.$axios.post(this.$httpUrl+'/record/listPage',{\n                    pageSize:this.pageSize,\n                    pageNum:this.pageNum,\n                    param:{\n                        name:this.name,\n                        goodstype:this.goodstype+'',\n                        storage:this.storage+''\n                    }\n                }).then(res=>res.data).then(res=>{\n                    console.log(res)\n                    if(res.code==200){\n                        this.tableData=res.data\n                        this.total=res.total\n                    }else{\n                        alert('获取数据失败')\n                    }\n                })\n            },\n        },\n        beforeMount(){\n\n            this.loadPost()\n        }\n    }\n\n\n</script>\n\n<style scoped>\n\n</style>\n"],"mappings":"AA6DA;EACAA,IAAA;EACAC,KAAA;IAEA;MACAC,WAAA;MACAC,aAAA;MACAC,SAAA;MACAC,QAAA;MACAC,OAAA;MACAC,KAAA;MACAP,IAAA;MACAQ,OAAA;MACAC,SAAA;MACAC,mBAAA;MACAC,IAAA;QACAC,EAAA;QACAZ,IAAA;QACAQ,OAAA;QACAC,SAAA;QACAI,KAAA;QACAC,MAAA;MACA;IACA;EACA;EAEAC,OAAA;IACAC,cAAAC,GAAA;MACA,IAAAC,IAAA,QAAAhB,WAAA,CAAAiB,IAAA,CAAAC,IAAA;QACA,OAAAA,IAAA,CAAAR,EAAA,IAAAK,GAAA,CAAAT,OAAA;MACA;MAEA,OAAAU,IAAA,IAAAA,IAAA,CAAAlB,IAAA;IACA;IACAqB,gBAAAJ,GAAA;MACA,IAAAC,IAAA,QAAAf,aAAA,CAAAgB,IAAA,CAAAC,IAAA;QACA,OAAAA,IAAA,CAAAR,EAAA,IAAAK,GAAA,CAAAR,SAAA;MACA;MAEA,OAAAS,IAAA,IAAAA,IAAA,CAAAlB,IAAA;IACA;IACAsB,UAAA;MACA,KAAAC,KAAA,CAAAZ,IAAA,CAAAa,WAAA;IACA;IACAC,iBAAAC,GAAA;MACAC,OAAA,CAAAC,GAAA,OAAAF,GAAA;MACA,KAAApB,OAAA;MACA,KAAAD,QAAA,GAAAqB,GAAA;MACA,KAAAG,QAAA;IACA;IACAC,oBAAAJ,GAAA;MACAC,OAAA,CAAAC,GAAA,SAAAF,GAAA;MACA,KAAApB,OAAA,GAAAoB,GAAA;MACA,KAAAG,QAAA;IACA;IACAE,WAAA;MACA,KAAA/B,IAAA;MACA,KAAAQ,OAAA;MACA,KAAAC,SAAA;IACA;IACAoB,SAAA;MACA,KAAAG,MAAA,CAAAC,IAAA,MAAAC,QAAA;QACA7B,QAAA,OAAAA,QAAA;QACAC,OAAA,OAAAA,OAAA;QACA6B,KAAA;UACAnC,IAAA,OAAAA,IAAA;UACAS,SAAA,OAAAA,SAAA;UACAD,OAAA,OAAAA,OAAA;QACA;MACA,GAAA4B,IAAA,CAAAC,GAAA,IAAAA,GAAA,CAAApC,IAAA,EAAAmC,IAAA,CAAAC,GAAA;QACAV,OAAA,CAAAC,GAAA,CAAAS,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAlC,SAAA,GAAAiC,GAAA,CAAApC,IAAA;UACA,KAAAM,KAAA,GAAA8B,GAAA,CAAA9B,KAAA;QACA;UACAgC,KAAA;QACA;MACA;IACA;EACA;EACAC,YAAA;IAEA,KAAAX,QAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}